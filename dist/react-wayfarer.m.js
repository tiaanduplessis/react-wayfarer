import t,{Component as r}from"react";import o from"wayfarer";export default(function(r){function e(t){r.call(this,t),this.router=o(t.defaultPath||"/"),this.addRoutes(t.children)}return r&&(e.__proto__=r),(e.prototype=Object.create(r&&r.prototype)).constructor=e,e.prototype.addRoutes=function(r,o){var e=this;t.Children.forEach(r,function(t){return e.addRoute(t,o)})},e.prototype.addRoute=function(r,o){var e=r.props,n=e.path,u=e.children,i=function(e){var u=t.cloneElement(r,{params:e,path:n});return o?o.render(e,{children:u}):u},a=function(t,r){if(!t)return r&&r.route?r.route:"/";if(function(t){void 0===t&&(t="");return t&&"/"===t[0]}(t))return t;return r?(r.route+"/"+t).replace(/\/\//g,"/"):t}(n,o);this.router.on(a,i),u&&this.addRoutes(u,{route:a,render:i})},e.prototype.render=function(){var t=this.props.location;return void 0===t&&(t=window.location.pathname),this.router(t)},e}(r));
