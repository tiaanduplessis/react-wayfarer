function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var r=require("react"),e=t(r),o=t(require("wayfarer"));module.exports=function(t){function r(r){t.call(this,r),this.router=o(r.defaultPath||"/"),this.addRoutes(r.children)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addRoutes=function(t,r){var o=this;e.Children.forEach(t,function(t){return o.addRoute(t,r)})},r.prototype.addRoute=function(t,r){var o=t.props,n=o.path,u=o.children,i=function(o){var u=e.cloneElement(t,{params:o,path:n});return r?r.render(o,{children:u}):u},a=function(t,r){if(!t)return r&&r.route?r.route:"/";if(function(t){void 0===t&&(t="");return t&&"/"===t[0]}(t))return t;return r?(r.route+"/"+t).replace(/\/\//g,"/"):t}(n,r);this.router.on(a,i),u&&this.addRoutes(u,{route:a,render:i})},r.prototype.render=function(){var t=this.props.location;return void 0===t&&(t=window.location.pathname),this.router(t)},r}(r.Component);
