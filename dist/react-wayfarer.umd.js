!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("wayfarer")):"function"==typeof define&&define.amd?define(["react","wayfarer"],e):t.reactWayfarer=e(t.react,t.wayfarer)}(this,function(t,e){var r="default"in t?t.default:t;return e=e&&e.hasOwnProperty("default")?e.default:e,function(t){function o(r){t.call(this,r),this.router=e(r.defaultPath||"/"),this.addRoutes(r.children)}return t&&(o.__proto__=t),(o.prototype=Object.create(t&&t.prototype)).constructor=o,o.prototype.addRoutes=function(t,e){var o=this;r.Children.forEach(t,function(t){return o.addRoute(t,e)})},o.prototype.addRoute=function(t,e){var o=t.props,n=o.path,u=o.children,a=function(o){var u=r.cloneElement(t,{params:o,path:n});return e?e.render(o,{children:u}):u},i=function(t,e){if(!t)return e&&e.route?e.route:"/";if(function(t){void 0===t&&(t="");return t&&"/"===t[0]}(t))return t;return e?(e.route+"/"+t).replace(/\/\//g,"/"):t}(n,e);this.router.on(i,a),u&&this.addRoutes(u,{route:i,render:a})},o.prototype.render=function(){var t=this.props.location;return void 0===t&&(t=window.location.pathname),this.router(t)},o}(t.Component)});
